dist: trusty
sudo: required


env:
  global:
    - MOZ_HEADLESS=1

language: node_js
node_js:
  - '12'

addons:
  chrome: stable

cache:
  directories:
    - Poker-Frontend/node_modules

before_script:
  - "npm install -g protractor"
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - 'webdriver-manager update'
  - 'webdriver-manager start 2>&1 &'

script:
    - cd Poker-Frontend
    - npm install
    - ./node_modules/protractor/bin/webdriver-manager update --versions.chrome 2.3
#    - npm run lint
    - npm run test-headless
    - npm run e2e
